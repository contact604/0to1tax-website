<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>블로그 포스트 자동 등록</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-4 py-12 max-w-4xl">
        <div class="bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-900 mb-2">
                    <i class="fas fa-upload text-blue-600 mr-2"></i>
                    블로그 포스트 자동 등록
                </h1>
                <p class="text-gray-600">마크다운 파일을 데이터베이스에 자동으로 등록합니다</p>
            </div>

            <!-- 등록할 포스트 정보 -->
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6">
                <h2 class="text-xl font-bold text-blue-900 mb-4">📝 등록할 포스트</h2>
                <div class="space-y-2 text-sm">
                    <p><strong>파일:</strong> 2024-11-17-startup-year-end-settlement-checklist.md</p>
                    <p><strong>제목:</strong> ⭐ 스타트업 결산 체크리스트 5가지</p>
                    <p><strong>날짜:</strong> 2024-11-17</p>
                    <p><strong>카테고리:</strong> 회계</p>
                </div>
            </div>

            <!-- 등록 버튼 -->
            <div class="mb-6">
                <button id="importBtn" onclick="importBlogPost()" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-2xl transition-all transform hover:scale-105">
                    <i class="fas fa-rocket mr-2"></i>
                    데이터베이스에 등록하기
                </button>
            </div>

            <!-- 결과 영역 -->
            <div id="resultArea" class="hidden">
                <div id="successMessage" class="bg-green-50 border border-green-200 rounded-lg p-6 mb-4 hidden">
                    <div class="flex items-start">
                        <i class="fas fa-check-circle text-green-600 text-2xl mr-3 mt-1"></i>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-green-900 mb-2">✅ 등록 완료!</h3>
                            <p class="text-green-700 mb-4">블로그 포스트가 성공적으로 등록되었습니다.</p>
                            <div class="space-y-2">
                                <a href="blog.html" class="inline-block bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition mr-2">
                                    <i class="fas fa-blog mr-2"></i>블로그 보기
                                </a>
                                <a href="admin.html" class="inline-block bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition">
                                    <i class="fas fa-cog mr-2"></i>관리자 페이지
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="errorMessage" class="bg-red-50 border border-red-200 rounded-lg p-6 hidden">
                    <div class="flex items-start">
                        <i class="fas fa-exclamation-triangle text-red-600 text-2xl mr-3 mt-1"></i>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-red-900 mb-2">❌ 등록 실패</h3>
                            <p class="text-red-700 mb-2">오류가 발생했습니다:</p>
                            <pre id="errorDetails" class="bg-red-100 p-3 rounded text-sm overflow-auto"></pre>
                        </div>
                    </div>
                </div>

                <div id="logArea" class="bg-gray-50 border border-gray-200 rounded-lg p-4 mt-4">
                    <h3 class="text-sm font-bold text-gray-700 mb-2">📋 처리 로그</h3>
                    <div id="logContent" class="text-xs text-gray-600 space-y-1 font-mono"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function addLog(message) {
            const logContent = document.getElementById('logContent');
            const timestamp = new Date().toLocaleTimeString('ko-KR');
            const logEntry = document.createElement('div');
            logEntry.textContent = `[${timestamp}] ${message}`;
            logContent.appendChild(logEntry);
            logContent.scrollTop = logContent.scrollHeight;
        }

        async function importBlogPost() {
            const btn = document.getElementById('importBtn');
            const resultArea = document.getElementById('resultArea');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            const errorDetails = document.getElementById('errorDetails');

            // 초기화
            resultArea.classList.remove('hidden');
            successMessage.classList.add('hidden');
            errorMessage.classList.add('hidden');
            document.getElementById('logContent').innerHTML = '';
            
            // 버튼 비활성화
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>등록 중...';

            try {
                addLog('포스트 등록 시작...');

                // 블로그 포스트 데이터
                const blogPost = {
                    title: "⭐ 스타트업 결산 체크리스트 5가지 (회계사가 직접 알려주는 실수 방지 가이드)",
                    slug: "startup-year-end-settlement-checklist",
                    excerpt: "스타트업이 결산 시 반드시 체크해야 할 5가지 핵심 포인트를 회계사 실무 기준으로 정리했습니다. 이 다섯 가지만 정확하게 챙겨도 결산 품질이 확 올라갑니다.",
                    content: `<h2>스타트업 대표님들, 연말 결산 준비하고 계신가요?</h2>

<p>초기 기업일수록 결산에서 실수하면 이듬해 재무관리와 세무신고에 큰 영향을 미칩니다.</p>

<p>오늘은 <strong>스타트업이 결산 시 반드시 체크해야 할 5가지 핵심 포인트</strong>를 회계사 실무 기준으로 정리해드립니다.</p>

<p>이 다섯 가지만 정확하게 챙겨도 <strong>결산 품질이 확 올라가고</strong> 회계·세무 리스크를 크게 줄일 수 있습니다.</p>

<hr>

<h2>✔ 1. 기간귀속(Accounting Accrual) – 미수·미지급 정확히 인식하기</h2>

<p>스타트업이 결산에서 가장 많이 놓치는 부분이 <strong>기간귀속 개념</strong>입니다.</p>

<h3>예를 들어,</h3>

<p><strong>12월 15일에 이자를 받았더라도</strong><br>
남은 기간(12/16~12/31)의 이자는 <strong>발생한 수익으로 인식</strong>해야 합니다.</p>

<p>즉,</p>

<ul>
<li><strong>받을 이자</strong> → 미수수익</li>
<li><strong>지급할 이자</strong> → 미지급비용</li>
</ul>

<p>이 두 계정을 반영하지 않으면 손익이 실제보다 과대 또는 과소 인식되어 <strong>재무제표 신뢰도가 떨어집니다</strong>.</p>

<blockquote>
<p><strong>"현금 기준이 아니라, 발생한 기간 기준으로 수익·비용을 인식한다."</strong></p>
</blockquote>

<hr>

<h2>✔ 2. 직원 관련 부채 – 퇴직급여충당부채 &amp; 연차미사용부채</h2>

<p>스타트업 결산에서 <strong>90% 이상이 놓치는 항목</strong>이 바로 <strong>직원 관련 부채</strong>입니다.</p>

<h3>반드시 반영해야 할 2가지</h3>

<h4>1️⃣ 퇴직급여충당부채</h4>
<ul>
<li>결산일 기준 <strong>"모든 직원이 퇴사한다고 가정"</strong>하여 계산</li>
<li>회계 기준상 반드시 인식해야 함</li>
</ul>

<h4>2️⃣ 연차미사용부채</h4>
<ul>
<li>사용하지 않은 연차는 회사가 직원에게 갚아야 할 <strong>'미지급 비용'</strong></li>
<li>내년에 발생할 연차 일부도 부채로 인식해야 함</li>
</ul>

<p>이 부분을 반영하지 않으면 <strong>차년도 인건비가 갑자기 튀어 오르고</strong>, 투자자 검토 시 신뢰도가 떨어질 수 있습니다.</p>

<blockquote>
<p><strong>"퇴직금·연차는 반드시 '부채'로 반영한다."</strong></p>
</blockquote>

<hr>

<h2>✔ 3. 개발비 자산화 – 거의 대부분 비용 처리되는 이유</h2>

<p>스타트업이 자주 질문하는 것 중 하나는<br>
<strong>"개발비를 자산으로 올릴 수 있나요?"</strong>입니다.</p>

<h3>결론부터 말하면 99% 불가능합니다.</h3>

<p>개발비가 무형자산으로 인정되려면 <strong>'향후 경제적 효익이 매우 명확하게 예상되는 경우'</strong>여야 합니다.</p>

<h3>필요한 문서들</h3>
<ul>
<li>개발 계획서</li>
<li>기술 검토서</li>
<li>시장성 분석서</li>
<li>향후 매출/이익 창출 근거</li>
</ul>

<p>이 문서들이 모두 갖춰지지 않으면 개발비는 대부분 <strong>즉시 비용처리(경상개발비)</strong>가 맞습니다.</p>

<blockquote>
<p><strong>개발비 자산화는 매우 엄격하며, 대부분 비용 처리된다.</strong></p>
</blockquote>

<hr>

<h2>✔ 4. 정부보조금 회계처리 – 정산 전에는 모두 '부채'</h2>

<p>정부지원금을 잘못 회계 처리하는 기업이 정말 많습니다.</p>

<h3>기본 원리는 단순합니다.</h3>

<h3>🔑 정부보조금 회계 원칙</h3>

<ol>
<li><strong>정산 완료 전에는 부채</strong>(선수금 또는 계약부채)로 인식</li>
<li><strong>실제 사용한 금액만</strong> 비용 발생</li>
<li><strong>자부담/정부지원금 비율대로</strong> 비용 인식</li>
</ol>

<p>즉, 선정되었다고 해서 바로 수익이 되는 것이 아니라,<br>
<strong>의무를 완료하기 전까지는 '미리 받은 돈' → 부채</strong>가 맞습니다.</p>

<blockquote>
<p><strong>"정부지원금은 정산 완료 전까지 절대 수익이 아니다."</strong></p>
</blockquote>

<hr>

<h2>✔ 5. 용역 매출 인식 – 세금계산서 기준 절대 금지</h2>

<p>스타트업 회계에서 가장 중요한 원칙 중 하나가<br>
<strong>세금계산서 발행일 = 매출 발생일이 아니다</strong>라는 점입니다.</p>

<h3>회계 기준은 명확합니다.</h3>

<h3>🔑 매출 인식 기준</h3>

<ul>
<li><strong>우리가 수행해야 하는 의무를 이행한 시점</strong>에 매출 인식</li>
<li>대부분의 경우 <strong>검수확인서 수령일</strong>이 매출 인식일에 해당</li>
<li>고객에게 <strong>미리 받은 돈은 선수금/계약부채</strong></li>
</ul>

<p>세금계산서는 단지 <strong>"증빙 문서"</strong>일 뿐이고, 실제 매출 시점과는 무관할 수 있습니다.</p>

<blockquote>
<p><strong>"매출은 '일을 끝낸 시점' 기준으로 인식한다."</strong></p>
</blockquote>

<hr>

<h2>📘 결론: 스타트업 결산은 '원칙'을 알면 쉽습니다</h2>

<p>결산은 복잡해 보이지만, 원리는 단순합니다.</p>

<h3>5가지 핵심 원칙</h3>

<ol>
<li>✅ <strong>올해 발생한 건 올해 인식</strong></li>
<li>✅ <strong>직원 관련 부채는 반드시 반영</strong></li>
<li>✅ <strong>개발비는 엄격하게</strong></li>
<li>✅ <strong>정부지원금은 정산 전까지 부채</strong></li>
<li>✅ <strong>매출은 의무 이행 기준</strong></li>
</ol>

<p>이 5가지만 정확히 반영하면 <strong>결산 퀄리티가 눈에 띄게 좋아집니다</strong>.</p>

<hr>

<h2>📞 전문 상담이 필요하신가요?</h2>

<p>스타트업 결산, 회계감사 대응, 정부보조금 정산 등<br>
더 궁금한 내용이 있다면 언제든 편하게 문의해주세요.</p>

<p><strong>ZERO TO ONE TAX</strong>가 대표님 회사의 재무를 가장 깔끔하고 정확하게 정리해드립니다.</p>

<hr>

<h3>📬 상담 문의</h3>
<ul>
<li><strong>전화</strong>: 070-8065-3619</li>
<li><strong>이메일</strong>: lbg@0to1tax.com</li>
<li><strong>홈페이지</strong>: <a href="https://0to1tax.com">0to1tax.com</a></li>
</ul>

<p><strong>#스타트업결산 #연말결산 #회계처리 #재무제표 #세무회계 #스타트업회계 #제로투원택스</strong></p>`,
                    category: "회계",
                    tags: ["결산", "재무제표", "회계처리", "스타트업회계", "연말결산"],
                    author: "이범기 회계사",
                    published: true,
                    featured: true
                };

                addLog('포스트 데이터 준비 완료');
                addLog(`제목: ${blogPost.title}`);
                addLog(`카테고리: ${blogPost.category}`);

                // API 호출
                addLog('API 요청 전송 중...');
                const response = await fetch('tables/blog_posts', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(blogPost)
                });

                addLog(`응답 상태: ${response.status} ${response.statusText}`);

                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`API 오류 (${response.status}): ${errorText}`);
                }

                const result = await response.json();
                addLog('포스트 등록 성공!');
                addLog(`생성된 ID: ${result.id || 'N/A'}`);

                // 성공 메시지 표시
                successMessage.classList.remove('hidden');
                btn.innerHTML = '<i class="fas fa-check mr-2"></i>등록 완료';

            } catch (error) {
                console.error('등록 실패:', error);
                addLog(`❌ 오류 발생: ${error.message}`);
                
                // 에러 메시지 표시
                errorMessage.classList.remove('hidden');
                errorDetails.textContent = error.message;
                
                // 버튼 복구
                btn.disabled = false;
                btn.innerHTML = '<i class="fas fa-redo mr-2"></i>다시 시도';
            }
        }
    </script>
</body>
</html>
