# 🎨 플랜 모달 사용 가이드

## 📋 목차
1. [모달 작동 방식](#모달-작동-방식)
2. [각 플랜별 모달 구성](#각-플랜별-모달-구성)
3. [사용자 인터랙션](#사용자-인터랙션)
4. [모바일 최적화](#모바일-최적화)

---

## 🎯 모달 작동 방식

### 기본 플로우
```
추천 플랜 섹션
    ↓
[상담 신청] 버튼 클릭
    ↓
플랜 상세 모달 팝업
    ↓
서비스 내용 확인
    ↓
[상담 신청] 버튼 클릭
    ↓
상담 신청 폼 모달
```

### 코드 구조
```javascript
// 1. 버튼 클릭 시
<button onclick="openStarterPlanModal()">상담 신청</button>

// 2. 모달 오픈
function openStarterPlanModal() {
    modal.classList.add('active');     // 모달 표시
    document.body.style.overflow = 'hidden';  // 스크롤 잠금
}

// 3. 모달 닫기
function closeStarterPlanModal() {
    modal.classList.remove('active');  // 모달 숨김
    document.body.style.overflow = 'auto';    // 스크롤 복원
}
```

---

## 💎 각 플랜별 모달 구성

### 🌱 스타터 플랜 모달

#### 헤더
```
┌─────────────────────────────────┐
│         [X 닫기 버튼]            │
│                                  │
│          STARTER                 │
│            🌱                    │
│        스타터 플랜                │
│       1인법인 최적화              │
│                                  │
│     ┌────────────────┐          │
│     │   13만원        │          │
│     │    ~/월         │          │
│     └────────────────┘          │
└─────────────────────────────────┘
```

#### 서비스 리스트
```
✓ 무료법인설립자문
✓ 투자에 적합한 기장서비스
✓ 노무 관리
✓ 무료 정부보조금 컨설팅
✓ 선제적 법인세 감면 전략
✓ 4대보험 사무대행
✓ 대표이사 급여업무 대행
✓ 대표이사 연말정산
```

#### 버튼
```
┌─────────────────────────────────┐
│       [상담 신청]                │
└─────────────────────────────────┘
클릭 시 → 스타터 모달 닫고 → 상담 모달 열기
```

#### 디자인 특징
- **배경**: 딥 스페이스 → 스페이스 그라데이션
- **테두리**: 코스믹 블루 (2px)
- **체크 아이콘**: 코스믹 블루
- **버튼**: 코스믹 블루 배경

---

### 🚀 그로스 플랜 모달 (인기)

#### 헤더
```
┌─────────────────────────────────┐
│    ⭐ 가장 인기 [배지]            │
│         [X 닫기 버튼]            │
│                                  │
│          GROWTH                  │
│            🚀                    │
│        그로스 플랜                │
│       성장 중기 최적화            │
│                                  │
│     ┌────────────────┐          │
│     │     문의        │          │
│     │     필수        │          │
│     └────────────────┘          │
└─────────────────────────────────┘
```

#### 서비스 리스트
```
✓ 스톡옵션 설계
✓ 수익자 눈높이 IR DECK 작성
✓ 라운드 유치 지원
✓ 상장전략수립
✓ IFRS 도입자문(컨버전)
```

#### 디자인 특징
- **배경**: 스텔라 퍼플 → 코스믹 블루 그라데이션
- **테두리**: 스텔라 퍼플 (2px)
- **배지**: 노랑 → 오렌지 그라데이션
- **텍스트**: 화이트
- **버튼**: 화이트 배경, 퍼플 텍스트

**특별 효과:**
- 배지가 모달 상단 중앙에 배치 (`absolute -top-3`)
- 전체 텍스트가 화이트 (강조)

---

### 🎯 스케일업 플랜 모달

#### 헤더
```
┌─────────────────────────────────┐
│         [X 닫기 버튼]            │
│                                  │
│        SCALE-UP                  │
│            🎯                    │
│       스케일업 플랜               │
│      글로벌 도약 준비             │
│                                  │
│     ┌────────────────┐          │
│     │     문의        │          │
│     │     필수        │          │
│     └────────────────┘          │
└─────────────────────────────────┘
```

#### 서비스 리스트
```
✓ 재무제표 작성 지원 용역(PA)
✓ 기업가치평가
✓ 임의 감사
✓ 법정감사
```

#### 디자인 특징
- **배경**: 딥 스페이스 → 스페이스 그라데이션
- **테두리**: 로켓 오렌지 (2px)
- **체크 아이콘**: 로켓 오렌지
- **버튼**: 로켓 오렌지 배경

---

## 🖱️ 사용자 인터랙션

### 모달 열기
```
마우스 클릭 / 터치
    ↓
버튼 클릭 이벤트
    ↓
openModal() 함수 실행
    ↓
모달 페이드인 애니메이션 (0.3초)
    ↓
배경 오버레이 표시
    ↓
Body scroll 잠김
```

### 모달 닫기 (3가지 방법)

#### 1️⃣ X 버튼 클릭
```html
<button onclick="closeStarterPlanModal()">
    <i class="fas fa-times"></i>
</button>
```

#### 2️⃣ 상담 신청 버튼
```javascript
onclick="closeStarterPlanModal(); openConsultModal();"
```
- 현재 모달 닫기
- 상담 모달 열기 (전환)

#### 3️⃣ 모달 외부 클릭 (향후 구현)
```javascript
modal.addEventListener('click', (e) => {
    if (e.target === modal) closeModal();
});
```

---

## 📱 모바일 최적화

### 반응형 크기
```css
.modal-content {
    max-width: 28rem;    /* 448px */
    margin: 0 1rem;      /* 모바일 좌우 여백 */
}
```

### 모바일 레이아웃
```
┌────────────────────┐  ← 화면 너비 - 2rem
│                     │
│  [모달 컨텐츠]      │  ← 자동 중앙 정렬
│                     │
│  ✓ 서비스 1         │  ← 텍스트 자동 줄바꿈
│  ✓ 서비스 2         │
│                     │
│  [────버튼────]     │  ← 전체 너비 버튼
│                     │
└────────────────────┘
```

### 터치 영역
```css
button {
    padding: 1rem;       /* 터치하기 쉬운 크기 */
    min-height: 44px;    /* iOS 권장 크기 */
}

.fa-times {
    font-size: 1.5rem;   /* 큰 닫기 버튼 */
}
```

### 스크롤 처리
```javascript
// 모달 열 때
document.body.style.overflow = 'hidden';   // 배경 스크롤 방지

// 모달 닫을 때
document.body.style.overflow = 'auto';     // 스크롤 복원
```

---

## 🎨 CSS 애니메이션

### 모달 페이드인
```css
.modal {
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s, visibility 0.3s;
}

.modal.active {
    opacity: 1;
    visibility: visible;
}
```

### 모달 컨텐츠 슬라이드
```css
.modal-content {
    transform: scale(0.9) translateY(20px);
    transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.modal.active .modal-content {
    transform: scale(1) translateY(0);
}
```

### 오버레이 페이드
```css
.modal::before {
    content: '';
    background: rgba(0, 0, 0, 0);
    transition: background 0.3s;
}

.modal.active::before {
    background: rgba(0, 0, 0, 0.8);
}
```

---

## 🔍 디버깅 가이드

### Console 로그 확인
브라우저 개발자 도구에서 확인:
```
💬 [LOG] Modal functions loaded and ready!
💬 [LOG] window.openStarterPlanModal: function
💬 [LOG] Opening Starter Plan modal...
💬 [LOG] Starter Plan modal opened successfully
```

### 문제 해결

#### 모달이 안 열릴 때
1. Console에서 함수 확인:
```javascript
typeof window.openStarterPlanModal   // 'function'이어야 함
```

2. Modal 요소 확인:
```javascript
document.getElementById('starterPlanModal')   // null이면 문제
```

3. Active 클래스 확인:
```javascript
modal.classList.contains('active')   // true여야 표시됨
```

#### 스크롤이 안 풀릴 때
```javascript
// 강제로 복원
document.body.style.overflow = 'auto';
```

#### 여러 모달이 겹칠 때
```javascript
// 모든 모달 닫기
document.querySelectorAll('.modal').forEach(m => {
    m.classList.remove('active');
});
```

---

## 📊 성능 최적화

### Lazy Loading
```javascript
// 모달은 처음에 숨겨져 있으므로
// 페이지 로드 성능에 영향 없음
```

### CSS 최적화
```css
/* GPU 가속 사용 */
.modal-content {
    transform: translateZ(0);
    will-change: transform, opacity;
}
```

### 이벤트 최적화
```javascript
// 한 번만 이벤트 리스너 등록
modal.addEventListener('click', handler, { once: true });
```

---

## ✅ 테스트 체크리스트

### 기능 테스트
- [ ] 스타터 플랜 모달 열기/닫기
- [ ] 그로스 플랜 모달 열기/닫기
- [ ] 스케일업 플랜 모달 열기/닫기
- [ ] X 버튼으로 닫기
- [ ] 상담 신청 버튼으로 전환
- [ ] Body scroll 잠금/복원

### 디자인 테스트
- [ ] 그라데이션 배경 표시
- [ ] 테두리 색상 확인
- [ ] 아이콘 색상 확인
- [ ] 버튼 호버 효과
- [ ] 페이드인 애니메이션

### 반응형 테스트
- [ ] 모바일 (< 768px)
- [ ] 태블릿 (768px - 1024px)
- [ ] 데스크톱 (> 1024px)
- [ ] 가로/세로 모드 전환

### 브라우저 테스트
- [ ] Chrome
- [ ] Safari
- [ ] Firefox
- [ ] Edge
- [ ] 모바일 Safari (iOS)
- [ ] 모바일 Chrome (Android)

---

## 🎯 사용 예시

### 시나리오 1: 가격 확인
```
사용자: "스타터 플랜이 얼마지?"
    ↓
[스타터 플랜 - 상담 신청] 클릭
    ↓
모달 팝업: "13만원 ~/월"
    ↓
사용자: "오! 합리적이네"
    ↓
[상담 신청] 클릭
```

### 시나리오 2: 플랜 비교
```
[스타터 플랜] 클릭 → 8개 서비스 확인 → [X] 닫기
    ↓
[그로스 플랜] 클릭 → 5개 서비스 확인 → [X] 닫기
    ↓
[스케일업 플랜] 클릭 → 4개 서비스 확인
    ↓
"우리는 그로스 플랜이 맞겠다"
    ↓
[X] 닫기 → [그로스 플랜] 다시 클릭 → [상담 신청]
```

### 시나리오 3: 모바일 터치
```
스크롤 다운 → "Recommended Plans" 도달
    ↓
스와이프로 플랜 카드 확인
    ↓
[그로스 플랜 - 상담 신청] 터치
    ↓
모달 팝업 (전체 화면 크기)
    ↓
스크롤로 서비스 목록 확인
    ↓
[상담 신청] 터치
    ↓
상담 폼 작성
```

---

## 🚀 다음 단계

### 즉시 가능한 개선
1. **ESC 키 닫기**: `keydown` 이벤트 리스너
2. **외부 클릭 닫기**: 오버레이 클릭 감지
3. **애니메이션 개선**: 슬라이드 업 효과

### 향후 기능
1. **플랜 비교 모달**: 3개 플랜 동시 비교
2. **가격 계산기**: 맞춤 견적 계산
3. **FAQ 통합**: 자주 묻는 질문 링크
4. **카카오톡 공유**: 플랜 정보 공유

---

## 📞 문의

모달 기능 관련 문의사항이 있으시면 상담 신청을 통해 연락주세요!

**Zero to one TAX - 0에서 1까지, 함께합니다** 🚀
